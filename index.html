<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ù…Ø§ØªØ´ØªØ±ÙŠØ´ - Ù…ØªØ¬Ø± Ø§Ù„Ø£Ø­Ø°ÙŠØ©</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  #collection-popup { pointer-events: auto; z-index: 9999; }
  #collection-popup button { cursor: pointer; }
  #toast { pointer-events: none; }
</style>
</head>
<body class="bg-gradient-to-b from-yellow-100 via-white to-yellow-50 font-sans">

<!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
<div id="collection-popup" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
  <div class="bg-white p-8 rounded-3xl shadow-2xl w-96 text-center relative">
    <h1 class="text-3xl font-extrabold text-gray-800 mb-4">Ø£Ù‡Ù„Ø§ Ø¨ÙŠÙƒ ÙÙŠ <span class="text-yellow-500">Ù…Ø§ØªØ´ØªØ±ÙŠØ´</span></h1>
    <p class="text-gray-600 mb-6">Ø¹Ø§ÙŠØ² ØªØ´ÙˆÙ Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø§Ù„Ø­Ø±ÙŠÙ…ÙŠ ÙˆÙ„Ø§ Ø§Ù„Ø±Ø¬Ø§Ù„ÙŠØŸ</p>
    <button id="male-collection" class="w-full bg-yellow-500 text-white py-3 rounded-xl mb-3 hover:scale-105 transition transform font-semibold">Ø±Ø¬Ø§Ù„ÙŠ</button>
    <button id="female-collection" class="w-full bg-pink-500 text-white py-3 rounded-xl hover:scale-105 transition transform font-semibold">Ø­Ø±ÙŠÙ…ÙŠ</button>
  </div>
</div>

<!-- Toast Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø³Ù„Ø© -->
<div id="toast" class="fixed top-5 right-5 bg-yellow-500 text-white px-6 py-3 rounded-xl shadow-2xl border-l-4 border-yellow-600 hidden z-50 font-semibold text-lg transition-transform transform -translate-y-5 opacity-0"></div>

<header class="max-w-6xl mx-auto flex items-center justify-between p-6 border-b">
  <div class="flex items-center gap-3">
    <img src="https://i.postimg.cc/TwvxgRrN/550816979-844120788145479-6887980593067427015-n.jpg" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±" class="w-12 h-12 rounded-full" />
    <div>
      <h1 class="text-3xl font-extrabold text-gray-800 leading-tight">Ù…Ø§ØªØ´ØªØ±ÙŠØ´</h1>
      <p class="text-sm text-gray-500 -mt-1 tracking-wide">ØºÙŠØ± Ø§Ù„Ù„ÙŠ ÙŠÙ„ÙŠÙ‚ Ø¨ÙŠÙƒ âœ¨</p>
    </div>
  </div>
  <button id="cart-btn" class="px-4 py-2 bg-yellow-500 text-white rounded flex items-center gap-2">
    ğŸ›’ <span>Ø§Ù„Ø³Ù„Ø© (0)</span>
  </button>
</header>

<main class="max-w-6xl mx-auto grid sm:grid-cols-2 lg:grid-cols-3 gap-8 p-6" id="products"></main>

<!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø³Ù„Ø© -->
<div id="cart" class="fixed inset-0 bg-black/40 hidden justify-end z-50">
  <div class="bg-white w-[370px] sm:w-96 h-full p-5 flex flex-col rounded-l-3xl shadow-2xl border-l-4 border-yellow-500 overflow-y-auto">
    <div class="flex justify-between items-center mb-4 border-b pb-2">
      <h2 class="text-lg font-semibold text-yellow-600">ğŸ›’ Ø§Ù„Ø³Ù„Ø©</h2>
      <button id="close-cart" class="text-gray-500">âœ•</button>
    </div>
    <div id="cart-items" class="flex-1 overflow-y-auto"></div>
    <div class="mt-4 font-semibold text-lg text-right text-gray-800" id="total">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span class="text-yellow-600">0 Ø¬Ù†ÙŠÙ‡</span></div>

    <div class="mt-6 border-t pt-4">
      <h3 class="font-semibold mb-2 text-center text-gray-700">ğŸ“¦ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨</h3>
      <form id="order-form" class="space-y-2">
        <input name="name" placeholder="Ø§Ù„Ø§Ø³Ù…" required class="border p-2 rounded w-full" />
        <input name="phone" placeholder="Ø±Ù‚Ù… Ù…ÙˆØ¨Ø§ÙŠÙ„Ùƒ" required class="border p-2 rounded w-full" />
        <input name="altPhone" placeholder="Ø±Ù‚Ù… Ù…ÙˆØ¨Ø§ÙŠÙ„ Ø§Ø­ØªÙŠØ§Ø·ÙŠ" class="border p-2 rounded w-full" />
        <input name="address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" required class="border p-2 rounded w-full" />
        <label class="block text-gray-700 font-semibold mt-2">Ø§Ø®ØªØ§Ø± Ù…Ù‚Ø§Ø³Ùƒ</label>
        <select name="size" id="size-select" class="border p-2 rounded w-full">
          <option value="">-- Ø§Ø®ØªØ§Ø± Ø§Ù„Ù…Ù‚Ø§Ø³ --</option>
        </select>
        <button type="submit" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded-lg font-semibold mt-4">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
      </form>
    </div>
  </div>
</div>

<script>
const allProducts = [
  // Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø±Ø¬Ø§Ù„ÙŠ
  { id:1, name:"Ø§Ù„Ø¯ÙŠÙƒ Ø§Ù„ÙØ±Ù†Ø³ÙŠ Ø§Ø¨ÙŠØ¶ Ù Ø§Ø­Ù…Ø±", price:280, image:"https://i.postimg.cc/MKX7qKRy/570893393-871336388757252-74939307031368722-n.jpg", type:"male" },
  { id:2, name:"Ø§Ù„Ø¯ÙŠÙƒ Ø§Ù„ÙØ±Ù†Ø³ÙŠ Ø§Ø¨ÙŠØ¶ Ù Ø§Ø³ÙˆØ¯", price:280, image:"https://i.postimg.cc/wjwYJ2MQ/568744248-871336448757246-5143257899591873607-n.jpg", type:"male" },
  { id:3, name:"Ù†ÙŠÙˆ Ø¨Ù„Ø§Ù†Ø³ Ø§Ø¨ÙŠØ¶ Ù Ø§Ø³ÙˆØ¯", price:280, image:"https://i.postimg.cc/q7gcMJW6/569032872-871336988757192-1100054162643539695-n.jpg", type:"male" },
  { id:4, name:"Ù†ÙŠÙˆ Ø¨Ù„Ø§Ù†Ø³ Ø§Ø³ÙˆØ¯ Ù Ø§Ø¨ÙŠØ¶", price:280, image:"https://i.postimg.cc/CxrDtydN/569293050-871336785423879-1324089676429450702-n.jpg", type:"male" },
  { id:5, name:"Ù†ÙŠÙˆ Ø¨Ù„Ø§Ù†Ø³ Ø§Ø³ÙˆØ¯ Ù Ø¨ÙŠÚ†", price:280, image:"https://i.postimg.cc/QC08Y3SW/571350934-871336632090561-6089648114365501598-n.jpg", type:"male" },
  { id:6, name:"Ø¨ÙˆÙ„Ùˆ Ø§Ø³ÙˆØ¯ Ù Ø±ØµØ§ØµÙŠ", price:280, image:"https://i.postimg.cc/B6kqFghN/569057434-871336695423888-9120106915970436646-n.jpg", type:"male" },
  { id:7, name:"Ø¨ÙˆÙ„Ùˆ Ø§Ø¨ÙŠØ¶ Ù Ø§Ø³ÙˆØ¯", price:280, image:"https://i.postimg.cc/ZYwQwn49/571146280-871336928757198-8793438079405721773-n.jpg", type:"male" },
  { id:8, name:"Ø¨ÙˆÙ„Ùˆ Ø§Ø³ÙˆØ¯ Ù Ø§Ø¨ÙŠØ¶", price:280, image:"https://i.postimg.cc/YCTKb9Nv/571354815-871336845423873-6702696002398135669-n.jpg", type:"male" },
  { id:9, name:"Ø§ÙŠØ± Ù…Ø§ÙƒØ³ Ø§Ø¨ÙŠØ¶", price:300, image:"https://i.postimg.cc/XqzMy7QB/574424610-876301951594029-1038148045299282375-n.jpg", type:"male" },
  { id:10, name:"ÙØ§Ø´ÙˆÙ† Ø´ØªÙˆÙŠ Ø±ØµØ§ØµÙŠ", price:350, image:"https://i.postimg.cc/pdYgJBsH/577158719-880485034509054-2260797099197674745-n.jpg", type:"male" },
  { id:11, name:"ÙØ§Ø´ÙˆÙ† Ø´ØªÙˆÙŠ Ø§Ø³ÙˆØ¯", price:350, image:"https://i.postimg.cc/tTq8SVc5/577126114-880484954509062-1861825450046656111-n.jpg", type:"male" },
  { id:12, name:"ÙØ§Ø´ÙˆÙ† Ø´ØªÙˆÙŠ Ø¨ÙŠÚ†", price:350, image:"https://i.postimg.cc/V6Kp3kQd/575166211-880484801175744-5927234518724415400-n.jpg", type:"male" },
  { id:13, name:"Ù‡Ø§Ù Ø¨ÙˆØ· Ø´ØªÙˆÙŠ Ø¨ÙŠÚ†", price:350, image:"https://i.postimg.cc/SR55x1xd/577229294-880551887835702-2466422141298345740-n.jpg", type:"male" },

  // Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø­Ø±ÙŠÙ…ÙŠ
  { id:14, name:"Ù†Ø§ÙŠÙƒ ØªÙˆÙŠÙ†Ø² Ø§Ø¨ÙŠØ¶ Ù Ø±ØµØ§ØµÙŠ", price:300, image:"https://i.postimg.cc/1zvbdrqn/576843905-883947857496105-6790202241856284727-n.jpg", type:"female" },
  { id:15, name:"Ù†Ø§ÙŠÙƒ ØªÙˆÙŠÙ†Ø² Ø§Ø¨ÙŠØ¶ Ù Ù†Ø¨ÙŠØªÙŠ", price:300, image:"https://i.postimg.cc/Pfg90xP4/576914567-883947607496130-1454587221797658254-n.jpg", type:"female" },
  { id:16, name:"Ù†Ø§ÙŠÙƒ ØªÙˆÙŠÙ†Ø² Ø§Ø¨ÙŠØ¶ Ù Ø§Ø³ÙˆØ¯", price:300, image:"https://i.postimg.cc/W3QYRWpC/579484530-883947780829446-2943000794086995307-n.jpg", type:"female" },
  { id:17, name:"Ø§Ù„Ù…Ø³ØªÙˆØ±Ø¯ Ø§Ø³ÙˆØ¯ Ù Ø§Ø¨ÙŠØ¶", price:300, image:"https://i.postimg.cc/66v1VXYp/578611395-883947950829429-6215013070031930120-n.jpg", type:"female" },
  { id:18, name:"Ø§Ù„Ù…Ø³ØªÙˆØ±Ø¯ Ø§Ø¨ÙŠØ¶ Ù Ø§Ø³ÙˆØ¯", price:300, image:"https://i.postimg.cc/SxyTpzq2/577446192-883948177496073-5727602666866394815-n.jpg", type:"female" },
  { id:19, name:"Ø§Ù„Ù…Ø³ØªÙˆØ±Ø¯ Ø§Ø¨ÙŠØ¶ Ù Ø¨ÙŠÚ†", price:300, image:"https://i.postimg.cc/d035hPhk/577427138-883948047496086-4254395622299081664-n.jpg", type:"female" }
];

let selectedType = null;
const cart = [];
const productContainer = document.getElementById("products");
const cartBtn = document.getElementById("cart-btn");
const cartWindow = document.getElementById("cart");
const closeCart = document.getElementById("close-cart");
const cartItems = document.getElementById("cart-items");
const total = document.getElementById("total");
const form = document.getElementById("order-form");
const sizeSelect = document.getElementById("size-select");
const collectionPopup = document.getElementById("collection-popup");
const toast = document.getElementById("toast");

document.getElementById("male-collection").onclick = () => selectCollection("male");
document.getElementById("female-collection").onclick = () => selectCollection("female");

function selectCollection(type) {
  selectedType = type;
  collectionPopup.classList.add("hidden");
  renderProducts();
  renderSizes();
}

function renderProducts() {
  productContainer.innerHTML = '';
  const filtered = allProducts.filter(p => p.type === selectedType);
  filtered.forEach(p => {
    const div = document.createElement("div");
    div.className = "bg-white rounded-2xl shadow-lg p-4 hover:shadow-2xl transition";
    div.innerHTML = `
      <img src="${p.image}" alt="${p.name}" class="w-full h-56 object-cover rounded-xl" />
      <div class="mt-3 text-center">
        <h3 class="font-semibold text-lg text-gray-800">${p.name}</h3>
        <p class="text-yellow-600 font-bold mt-1">${p.price} Ø¬Ù†ÙŠÙ‡</p>
        <button class="mt-3 px-5 py-2 bg-yellow-500 text-white rounded-lg">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
      </div>`;
    div.querySelector("button").onclick = () => addToCart(p);
    productContainer.appendChild(div);
  });
}

function renderSizes() {
  sizeSelect.innerHTML = '<option value="">-- Ø§Ø®ØªØ§Ø± Ø§Ù„Ù…Ù‚Ø§Ø³ --</option>';
  let sizes = selectedType === "male" ? [41,42,43,44,45] : [37,38,39,40,41];
  sizes.forEach(s => {
    const opt = document.createElement("option");
    opt.value = s;
    opt.textContent = s;
    sizeSelect.appendChild(opt);
  });
}

function addToCart(product) {
  const found = cart.find(p => p.id === product.id);
  if (found) found.qty++;
  else cart.push({ ...product, qty: 1 });
  updateCart();
  showToast("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©. Ø§Ø°Ù‡Ø¨ Ù„Ù„Ø³Ù„Ø© Ù„Ø§ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡ ÙˆØ§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù‚Ø§Ø³");
}

function showToast(message) {
  toast.textContent = message;
  toast.classList.remove("hidden");
  toast.classList.add("opacity-100", "translate-y-0");
  setTimeout(() => {
    toast.classList.remove("opacity-100", "translate-y-0");
    toast.classList.add("opacity-0", "-translate-y-5");
    setTimeout(()=>toast.classList.add("hidden"), 500);
  }, 4000); 
}

function removeFromCart(id) {
  const index = cart.findIndex(p => p.id === id);
  if (index !== -1) cart.splice(index, 1);
  updateCart();
}

function updateCart() {
  cartItems.innerHTML = "";
  let sum = 0;
  cart.forEach(item => {
    sum += item.price * item.qty;
    const div = document.createElement("div");
    div.className = "flex items-center justify-between py-3 border-b";
    div.innerHTML = `
      <div>
        <p class="font-medium text-gray-800">${item.name}</p>
        <p class="text-sm text-gray-600">${item.qty} Ã— ${item.price} Ø¬Ù†ÙŠÙ‡</p>
      </div>
      <button class="text-red-500">ğŸ—‘ï¸</button>`;
    div.querySelector("button").onclick = () => removeFromCart(item.id);
    cartItems.appendChild(div);
  });
  total.innerHTML = `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span class='text-yellow-600'>${sum} Ø¬Ù†ÙŠÙ‡</span>`;
  cartBtn.innerHTML = `ğŸ›’ <span>Ø§Ù„Ø³Ù„Ø© (${cart.reduce((s, i) => s + i.qty, 0)})</span>`;
}

cartBtn.onclick = () => cartWindow.classList.remove("hidden");
closeCart.onclick = () => cartWindow.classList.add("hidden");

form.onsubmit = async e => {
  e.preventDefault();
  const data = Object.fromEntries(new FormData(form));
  data.items = cart.map(i => `${i.name} Ã— ${i.qty}`).join(", ");
  try {
    await fetch("https://formbold.com/s/9XrV5", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data),
    });
    alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­âœ… ÙˆØ§Ù„Ø£ÙˆØ±Ø¯Ø± Ù‡ÙŠÙˆØµÙ„Ùƒ ÙÙŠ Ø£Ø³Ø±Ø¹ ÙˆÙ‚Øª Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡ğŸ¥°");
    cart.length = 0;
    updateCart();
    form.reset();
    cartWindow.classList.add("hidden");
  } catch {
    alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰");
  }
};
</script>

</body>
</html>